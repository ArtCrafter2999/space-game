[gd_scene load_steps=16 format=3 uid="uid://c80eauowhex61"]

[ext_resource type="Script" uid="uid://b5us0d3bgpn7m" path="res://Grab/GrabableRigidBody.gd" id="1_k1c55"]
[ext_resource type="PackedScene" uid="uid://c2jvgq5j7ebc3" path="res://Player/Player.tscn" id="2_hqbn7"]
[ext_resource type="Script" uid="uid://c7cxbf6kkp0bs" path="res://Gravity/GravityListener.gd" id="2_p6chn"]
[ext_resource type="PackedScene" uid="uid://moed1omqeptt" path="res://Models/SpaceShip.glb" id="6_o7hga"]
[ext_resource type="Shader" uid="uid://cltajo14l6k6t" path="res://shaders/stars.gdshader" id="7_37g81"]
[ext_resource type="Script" uid="uid://buji68gvseklw" path="res://Gravity/GravityBroadcast.gd" id="7_p6chn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5s2c4"]
size = Vector3(0.3, 0.3, 0.3)

[sub_resource type="BoxShape3D" id="BoxShape3D_ww588"]
size = Vector3(0.4, 0.4, 0.4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_asirl"]
emission_enabled = true
emission = Color(1, 1, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_pmppw"]
material = SubResource("StandardMaterial3D_asirl")
size = Vector3(0.3, 0.3, 0.3)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gxtfg"]
data = PackedVector3Array(-8.9445, -17.8888, -0.0003, -0.0003, -8.9445, -17.8888, -0.0003, -17.8888, -8.9445, -0.0003, -8.9445, -17.8888, -8.9445, -17.8888, -0.0003, -17.8888, -0.0003, -8.9445, -17.8888, -0.0003, -8.9445, -8.9445, -17.8888, -0.0003, -17.8888, -8.9445, -0.0003, -0.0003, -8.9445, -17.8888, -17.8888, -0.0003, -8.9445, -8.9445, -0.0003, -17.8888, -17.8888, -0.0003, -8.9445, -17.8888, -8.9445, -0.0003, -17.8888, -0.0003, 8.9439, -0.0003, 17.8882, -8.9445, 8.9439, -0.0003, -17.8888, -0.0003, 8.9439, -17.8888, 8.9439, -0.0003, -17.8888, -0.0003, 17.8882, -8.9445, 17.8882, 8.9439, -0.0003, 17.8882, 8.9439, -0.0003, -0.0003, 17.8882, -8.9445, 8.9439, 17.8882, -0.0003, 8.9439, -0.0003, -17.8888, 17.8882, 8.9439, -0.0003, 17.8882, -0.0003, -8.9445, -8.9445, -0.0003, 17.8882, -0.0003, -17.8888, 8.9439, -0.0003, -8.9445, 17.8882, -0.0003, -17.8888, 8.9439, -8.9445, -0.0003, 17.8882, -17.8888, -8.9445, -0.0003, -17.8888, -8.9445, -0.0003, -8.9445, -0.0003, 17.8882, -17.8888, -0.0003, 8.9439, -0.0003, -17.8888, 8.9439, -17.8888, -8.9445, -0.0003, -8.9445, -17.8888, -0.0003, 17.8882, -0.0003, -8.9445, 17.8882, 8.9439, -0.0003, 17.8882, -0.0003, 8.9439, 17.8882, -8.9445, -0.0003, 17.8882, -0.0003, -8.9445, 17.8882, -0.0003, 8.9439, -0.0003, 17.8882, -8.9445, -17.8888, 8.9439, -0.0003, -8.9445, 17.8882, -0.0003, -17.8888, 8.9439, -0.0003, -0.0003, 17.8882, -8.9445, -8.9445, -0.0003, -17.8888, -8.9445, -0.0003, -17.8888, -0.0003, 17.8882, -8.9445, -0.0003, 8.9439, -17.8888, -17.8888, 8.9439, -0.0003, -8.9445, -0.0003, -17.8888, -17.8888, -0.0003, -8.9445, 8.9439, -0.0003, -17.8888, -0.0003, -17.8888, -8.9445, -0.0003, -8.9445, -17.8888, -0.0003, -17.8888, -8.9445, 8.9439, -0.0003, -17.8888, 17.8882, -8.9445, -0.0003, 17.8882, -8.9445, -0.0003, 8.9439, -0.0003, -17.8888, 17.8882, -0.0003, -8.9445, -0.0003, -17.8888, -8.9445, 17.8882, -8.9445, -0.0003, 8.9439, -17.8888, -0.0003, 8.9439, 17.8882, -0.0003, 17.8882, -0.0003, 8.9439, 17.8882, 8.9439, -0.0003, 17.8882, -0.0003, 8.9439, 8.9439, 17.8882, -0.0003, -0.0003, 8.9439, 17.8882, -0.0003, 8.9439, 17.8882, 8.9439, 17.8882, -0.0003, -0.0003, 17.8882, 8.9439, 17.8882, -0.0003, 8.9439, -0.0003, 8.9439, 17.8882, 8.9439, -0.0003, 17.8882, -8.9445, 17.8882, -0.0003, 8.9439, 17.8882, -0.0003, -0.0003, 17.8882, -8.9445, -8.9445, 17.8882, -0.0003, -0.0003, 17.8882, 8.9439, 8.9439, 17.8882, -0.0003, -8.9445, -0.0003, -17.8888, -0.0003, 8.9439, -17.8888, 8.9439, -0.0003, -17.8888, -0.0003, -8.9445, -17.8888, -8.9445, -0.0003, -17.8888, 8.9439, -0.0003, -17.8888, 8.9439, -17.8888, -0.0003, -8.9445, -17.8888, -0.0003, -0.0003, -17.8888, -8.9445, 8.9439, -17.8888, -0.0003, -0.0003, -17.8888, 8.9439, -8.9445, -17.8888, -0.0003, 8.9439, -0.0003, 17.8882, -0.0003, 8.9439, 17.8882, -8.9445, -0.0003, 17.8882, -0.0003, -8.9445, 17.8882, 8.9439, -0.0003, 17.8882, -8.9445, -0.0003, 17.8882, -17.8888, -0.0003, 8.9439, -8.9445, 17.8882, -0.0003, -17.8888, 8.9439, -0.0003, -8.9445, 17.8882, -0.0003, -17.8888, -0.0003, 8.9439, -0.0003, 8.9439, 17.8882, -0.0003, 8.9439, 17.8882, -17.8888, -0.0003, 8.9439, -8.9445, -0.0003, 17.8882, -8.9445, 17.8882, -0.0003, -0.0003, 8.9439, 17.8882, -0.0003, 17.8882, 8.9439, 17.8882, -0.0003, 8.9439, 8.9439, -17.8888, -0.0003, 17.8882, -8.9445, -0.0003, 8.9439, -17.8888, -0.0003, 17.8882, -0.0003, 8.9439, -0.0003, -8.9445, 17.8882, -0.0003, -8.9445, 17.8882, 17.8882, -0.0003, 8.9439, 8.9439, -0.0003, 17.8882, 8.9439, -17.8888, -0.0003, -0.0003, -8.9445, 17.8882, -0.0003, -17.8888, 8.9439, -0.0003, -9.9817, -19.5988, -9.9817, -19.5988, -0.0003, -0.0003, -19.5988, -9.9817, -9.9817, -19.5988, -0.0003, -0.0003, -9.9817, -19.5988, -19.5988, -0.0003, -9.9817, -19.5988, -0.0003, -9.9817, -0.0003, -9.9817, -19.5988, -9.9817, -0.0003, -19.5988, -9.9817, -19.5988, -0.0003, -19.5988, -0.0003, -9.9817, -19.5988, -9.9817, -0.0003, -19.5988, -0.0003, -9.9817, -19.5988, -0.0003, 9.9811, -19.5988, -9.9817, -0.0003, 9.9811, -0.0003, -19.5988, -0.0003, 19.5988, -9.9817, -0.0003, 9.9811, -19.5988, -0.0003, 19.5988, -9.9817, 9.9811, -0.0003, -19.5988, 19.5982, 9.9811, -0.0003, 19.5982, 9.9811, -0.0003, 9.9811, -0.0003, -19.5988, 19.5988, -0.0003, -9.9817, -0.0003, 19.5988, -9.9817, 19.5982, 9.9811, -0.0003, 9.9811, 19.5988, -0.0003, -0.0003, -19.5988, 9.9811, -9.9817, -0.0003, 19.5988, -0.0003, -9.9817, 19.5982, -9.9817, -0.0003, 19.5988, -0.0003, -19.5988, 9.9811, -19.5988, -9.9817, -0.0003, -19.5988, -9.9817, -0.0003, -0.0003, -19.5988, 9.9811, -9.9817, -19.5988, -0.0003, -9.9817, -0.0003, 19.5988, -19.5988, -9.9817, -0.0003, -19.5988, -0.0003, 9.9811, 19.5988, -0.0003, -9.9817, 19.5988, -0.0003, 9.9811, 19.5982, 9.9811, -0.0003, 19.5982, -9.9817, -0.0003, 19.5988, -0.0003, 9.9811, 19.5988, -0.0003, -9.9817, -19.5988, 9.9811, -0.0003, -0.0003, 19.5988, -9.9817, -9.9817, 19.5988, -0.0003, -0.0003, 19.5988, -9.9817, -19.5988, 9.9811, -0.0003, -9.9817, -0.0003, -19.5988, -9.9817, -0.0003, -19.5988, -19.5988, 9.9811, -0.0003, -19.5988, -0.0003, -9.9817, -0.0003, 19.5988, -9.9817, -9.9817, -0.0003, -19.5988, -0.0003, 9.9811, -19.5988, -0.0003, -19.5988, -9.9817, 9.9811, -0.0003, -19.5988, -0.0003, -9.9817, -19.5988, 9.9811, -0.0003, -19.5988, -0.0003, -19.5988, -9.9817, 19.5982, -9.9817, -0.0003, 19.5982, -9.9817, -0.0003, -0.0003, -19.5988, -9.9817, 9.9811, -19.5988, -0.0003, 9.9811, -0.0003, -19.5988, 19.5982, -9.9817, -0.0003, 19.5988, -0.0003, -9.9817, 19.5988, -0.0003, 9.9811, 9.9811, 19.5988, -0.0003, 19.5982, 9.9811, -0.0003, 9.9811, 19.5988, -0.0003, 19.5988, -0.0003, 9.9811, -0.0003, 9.9811, 19.5982, -0.0003, 9.9811, 19.5982, 19.5988, -0.0003, 9.9811, 9.9811, -0.0003, 19.5988, 9.9811, 19.5988, -0.0003, -0.0003, 9.9811, 19.5982, -0.0003, 19.5988, 9.9811, -9.9817, 19.5988, -0.0003, 9.9811, 19.5988, -0.0003, -0.0003, 19.5988, 9.9811, -9.9817, 19.5988, -0.0003, -0.0003, 19.5988, -9.9817, 9.9811, 19.5988, -0.0003, -9.9817, -0.0003, -19.5988, 9.9811, -0.0003, -19.5988, -0.0003, 9.9811, -19.5988, -0.0003, -9.9817, -19.5988, 9.9811, -0.0003, -19.5988, -9.9817, -0.0003, -19.5988, 9.9811, -19.5988, -0.0003, -9.9817, -19.5988, -0.0003, -0.0003, -19.5988, 9.9811, 9.9811, -19.5988, -0.0003, -0.0003, -19.5988, -9.9817, -9.9817, -19.5988, -0.0003, 9.9811, -0.0003, 19.5988, -9.9817, -0.0003, 19.5988, -0.0003, 9.9811, 19.5982, -0.0003, -9.9817, 19.5982, -9.9817, -0.0003, 19.5988, 9.9811, -0.0003, 19.5988, -9.9817, 19.5988, -0.0003, -19.5988, -0.0003, 9.9811, -19.5988, 9.9811, -0.0003, -19.5988, -0.0003, 9.9811, -9.9817, 19.5988, -0.0003, -0.0003, 9.9811, 19.5982, -0.0003, 9.9811, 19.5982, -9.9817, 19.5988, -0.0003, -0.0003, 19.5988, 9.9811, -19.5988, -0.0003, 9.9811, -0.0003, 9.9811, 19.5982, -9.9817, -0.0003, 19.5988, 9.9811, -19.5988, -0.0003, 19.5988, -0.0003, 9.9811, 19.5982, -9.9817, -0.0003, 19.5988, -0.0003, 9.9811, 9.9811, -19.5988, -0.0003, -0.0003, -9.9817, 19.5982, -0.0003, -9.9817, 19.5982, 9.9811, -19.5988, -0.0003, -0.0003, -19.5988, 9.9811, 19.5988, -0.0003, 9.9811, -0.0003, -9.9817, 19.5982, 9.9811, -0.0003, 19.5988, -17.8888, -0.0003, 8.9439, -19.5988, -0.0003, -9.9817, -17.8888, -0.0003, -8.9445, -17.8888, -0.0003, 8.9439, -19.5988, -0.0003, 9.9811, -19.5988, -0.0003, -9.9817, -17.8888, 8.9439, -0.0003, -19.5988, -0.0003, -9.9817, -19.5988, 9.9811, -0.0003, -17.8888, 8.9439, -0.0003, -17.8888, -0.0003, -8.9445, -19.5988, -0.0003, -9.9817, -17.8888, 8.9439, -0.0003, -19.5988, -0.0003, 9.9811, -17.8888, -0.0003, 8.9439, -17.8888, 8.9439, -0.0003, -19.5988, 9.9811, -0.0003, -19.5988, -0.0003, 9.9811)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_noy7j"]
points = PackedVector3Array(-9.98358, -0.00383759, -19.5988, -19.5988, -0.00383759, -9.98358, -0.00383759, 19.5988, -9.98358, -0.00383759, 9.97973, -19.5988, -0.00383759, -9.98357, -19.5988, -19.5988, -9.98357, -0.00383759, -19.5988, 9.97973, -0.00383759, -9.98358, 19.5988, -0.00383759, 9.97974, 19.5988, -0.00383759, 9.97974, -0.00383759, -19.5988, -0.00383759, -19.5988, -9.98358, -19.5988, -0.00383759, 9.97974, -9.98358, -19.5988, -0.00383759, -0.00383759, 19.5988, 9.97974, 19.595, -0.00383759, 9.97974, 19.595, 9.97973, -0.00383759, 19.595, -0.00383759, -9.98358, 9.97974, -19.5988, -0.00383759, -9.98358, -0.00383759, 19.595, -0.00383759, -19.5988, 9.97974, -0.00383759, 9.97973, 19.595, 9.97974, -0.00383759, 19.595, 19.595, -9.98357, -0.00383759, -0.00383759, -9.98357, 19.595)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_u2c52"]
shader = ExtResource("7_37g81")
shader_parameter/sky_color = Color(0.03, 0.05, 0.11, 1)
shader_parameter/star_base_color = Color(1, 1, 1, 1)
shader_parameter/star_hue_offset = 0.6
shader_parameter/star_intensity = 0.08
shader_parameter/star_twinkle_speed = 0.0
shader_parameter/star_twinkle_intensity = 0.2
shader_parameter/layer_scale = 20.0
shader_parameter/layer_scale_step = 10.0
shader_parameter/layers_count = 3

[sub_resource type="Sky" id="Sky_qpw16"]
sky_material = SubResource("ShaderMaterial_u2c52")

[sub_resource type="Environment" id="Environment_1epfd"]
background_mode = 2
sky = SubResource("Sky_qpw16")
ambient_light_source = 2
ambient_light_color = Color(0, 0, 0.141176, 1)
tonemap_mode = 2
glow_enabled = true
glow_blend_mode = 1

[node name="TestShipScene" type="Node3D"]

[node name="lantern" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.331837, 3.22603, -2.95452)
collision_mask = 7
mass = 0.6

[node name="CollisionShape3D" type="CollisionShape3D" parent="lantern"]
shape = SubResource("BoxShape3D_5s2c4")

[node name="OmniLight3D" type="OmniLight3D" parent="lantern"]
shadow_enabled = true
omni_range = 20.0

[node name="Area3D" type="Area3D" parent="lantern" node_paths=PackedStringArray("body")]
collision_layer = 8
collision_mask = 0
monitoring = false
script = ExtResource("1_k1c55")
body = NodePath("..")
metadata/_custom_type_script = "uid://b5us0d3bgpn7m"

[node name="CollisionShape3D" type="CollisionShape3D" parent="lantern/Area3D"]
shape = SubResource("BoxShape3D_ww588")

[node name="Area3D2" type="Area3D" parent="lantern"]
script = ExtResource("2_p6chn")
metadata/_custom_type_script = "uid://c7cxbf6kkp0bs"

[node name="CollisionShape3D" type="CollisionShape3D" parent="lantern/Area3D2"]
shape = SubResource("BoxShape3D_ww588")

[node name="MeshInstance3D" type="MeshInstance3D" parent="lantern"]
gi_mode = 2
mesh = SubResource("BoxMesh_pmppw")

[node name="Player" parent="." instance=ExtResource("2_hqbn7")]
visible = false

[node name="SpaceShip" parent="." instance=ExtResource("6_o7hga")]
transform = Transform3D(0.0598465, 0, 0.998208, 0, 1, 0, -0.998208, 0, 0.0598465, -4.07367, 0, -43.8625)

[node name="AnimatableBody3D" type="AnimatableBody3D" parent="SpaceShip"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SpaceShip/AnimatableBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_gxtfg")

[node name="Area3D" type="Area3D" parent="SpaceShip"]
collision_layer = 0
collision_mask = 7
gravity_space_override = 1
gravity_point = true
gravity_point_center = Vector3(0, 0, 0)
gravity_direction = Vector3(0, 0, 0)
gravity = -9.8
script = ExtResource("7_p6chn")
metadata/_custom_type_script = "uid://buji68gvseklw"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SpaceShip/Area3D"]
shape = SubResource("ConvexPolygonShape3D_noy7j")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1epfd")
